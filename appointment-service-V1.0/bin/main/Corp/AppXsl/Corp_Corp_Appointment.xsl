<?xml version="1.0" encoding="UTF-8" ?>
<?oracle-xsl-mapper
  <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
  <mapSources>
    <source type="XSD">
      <schema location="../xsd/WLS_LOG_CORP_Appointment_Req.xsd"/>
      <rootElement name="AppointmentReq" namespace="http://mdwcorp.falabella.com/LOG/CORP/schema/WMOS/Appointment/Req"/>
    </source>
  </mapSources>
  <mapTargets>
    <target type="XSD">
      <schema location="../xsd/Appointment.xsd"/>
      <rootElement name="tXML" namespace=""/>
    </target>
  </mapTargets>
  <!-- GENERATED BY ORACLE XSL MAPPER 11.1.1.5.0(build 110418.1550.0174) AT [WED MAY 31 12:07:32 CLT 2017]. -->
?>
<xsl:stylesheet version="1.0"
                xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                xmlns:mhdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.mediator.service.common.functions.MediatorExtnFunction"
                xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
                xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
                xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                xmlns:req="http://mdwcorp.falabella.com/LOG/CORP/schema/WMOS/Appointment/Req"
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:med="http://schemas.oracle.com/mediator/xpath"
                xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
                xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk"
                xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
                xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                xmlns:bpmn="http://schemas.oracle.com/bpm/xpath"
                xmlns:ora="http://schemas.oracle.com/xpath/extension"
                xmlns:socket="http://www.oracle.com/XSL/Transform/java/oracle.tip.adapter.socket.ProtocolTranslator"
                xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap"
                exclude-result-prefixes="xsi xsl req xsd bpws xp20 mhdr bpel oraext dvm hwf med ids bpm xdk xref bpmn ora socket ldap">
  <xsl:template match="/">
    <tXML>
      <Header>
        <Source>
          <xsl:value-of select="/req:AppointmentReq/req:Header/req:Source"/>
        </Source>
        <Action_Type>
          <xsl:value-of select="/req:AppointmentReq/req:Header/req:Action_Type"/>
        </Action_Type>
        <xsl:if test="/req:AppointmentReq/req:Header/req:SequenceNumber">
          <Sequence_Number>
            <xsl:value-of select="/req:AppointmentReq/req:Header/req:SequenceNumber"/>
          </Sequence_Number>
        </xsl:if>
        <xsl:if test="/req:AppointmentReq/req:Header/req:BatchId">
          <Batch_ID>
            <xsl:value-of select="/req:AppointmentReq/req:Header/req:BatchId"/>
          </Batch_ID>
        </xsl:if>
        <xsl:if test="/req:AppointmentReq/req:Header/req:ReferenceId">
          <Reference_ID>
            <xsl:value-of select="/req:AppointmentReq/req:Header/req:ReferenceId"/>
          </Reference_ID>
        </xsl:if>
        <xsl:if test="/req:AppointmentReq/req:Header/req:UserId">
          <User_ID>
            <xsl:value-of select="/req:AppointmentReq/req:Header/req:UserId"/>
          </User_ID>
        </xsl:if>
        <xsl:if test="/req:AppointmentReq/req:Header/req:Password">
          <Password>
            <xsl:value-of select="/req:AppointmentReq/req:Header/req:Password"/>
          </Password>
        </xsl:if>
        <Message_Type>
          <xsl:value-of select="/req:AppointmentReq/req:Header/req:MessageType"/>
        </Message_Type>
        <Company_ID>
          <xsl:value-of select="/req:AppointmentReq/req:Header/req:CompanyId"/>
        </Company_ID>
        <xsl:if test="/req:AppointmentReq/req:Header/req:MessageLocale">
          <Msg_Locale>
            <xsl:value-of select="/req:AppointmentReq/req:Header/req:MessageLocale"/>
          </Msg_Locale>
        </xsl:if>
        <xsl:if test="/req:AppointmentReq/req:Header/req:MessageTimeZone">
          <Msg_Time_Zone>
            <xsl:value-of select="/req:AppointmentReq/req:Header/req:MessageTimeZone"/>
          </Msg_Time_Zone>
        </xsl:if>
        <xsl:if test="/req:AppointmentReq/req:Header/req:Version">
          <Version>
            <xsl:value-of select="/req:AppointmentReq/req:Header/req:Version"/>
          </Version>
        </xsl:if>
        <xsl:if test="/req:AppointmentReq/req:Header/req:SendMessage">
          <Send_Message>
            <xsl:value-of select="/req:AppointmentReq/req:Header/req:SendMessage"/>
          </Send_Message>
        </xsl:if>
        <xsl:if test="/req:AppointmentReq/req:Header/req:CarrierCompany">
          <Carrier_Company>
            <xsl:value-of select="/req:AppointmentReq/req:Header/req:CarrierCompany"/>
          </Carrier_Company>
        </xsl:if>
        <xsl:if test="/req:AppointmentReq/req:Header/req:Sequence">
          <Sequence>
            <xsl:value-of select="/req:AppointmentReq/req:Header/req:Sequence"/>
          </Sequence>
        </xsl:if>
      </Header>
      <Message>
        <xsl:for-each select="/req:AppointmentReq/req:Message/req:Appointment">
          <Appointment>
            <xsl:if test="req:AppointmentId">
              <Appointment_ID>
                <xsl:value-of select="req:AppointmentId"/>
              </Appointment_ID>
            </xsl:if>
            <xsl:choose>
              <xsl:when test='req:AppointmentType = "LiveUnload"'>
                <Appointment_Type>
                  <xsl:value-of select='"Live Unload"'/>
                </Appointment_Type>
              </xsl:when>
              <xsl:when test='req:AppointmentType = "DropUnload"'>
                <Appointment_Type>
                  <xsl:value-of select='"Drop Unload"'/>
                </Appointment_Type>
              </xsl:when>
              <xsl:when test='req:AppointmentType = "DropEmpty"'>
                <Appointment_Type>
                  <xsl:value-of select='"Drop Empty"'/>
                </Appointment_Type>
              </xsl:when>
              <xsl:when test='req:AppointmentType = "LiveLoad"'>
                <Appointment_Type>
                  <xsl:value-of select='"Live Load"'/>
                </Appointment_Type>
              </xsl:when>
              <xsl:when test='req:AppointmentType = "PickupEmpty"'>
                <Appointment_Type>
                  <xsl:value-of select='"Pickup Empty"'/>
                </Appointment_Type>
              </xsl:when>
            </xsl:choose>
            <Facility_Alias_ID>
              <xsl:value-of select="req:FacilityAliasId"/>
            </Facility_Alias_ID>
            <xsl:if test="req:AppointmentStatus">
              <Appointment_Status>
                <xsl:value-of select="req:AppointmentStatus"/>
              </Appointment_Status>
            </xsl:if>
            <xsl:if test="req:SealNumber">
              <Seal_Number>
                <xsl:value-of select="req:SealNumber"/>
              </Seal_Number>
            </xsl:if>
            <xsl:if test="req:CarrierCode">
              <Carrier_Code>
                <xsl:value-of select="req:CarrierCode"/>
              </Carrier_Code>
            </xsl:if>
            <xsl:if test="req:ScheduledDateTime">
              <Scheduled_Dttm>
                <xsl:value-of select="req:ScheduledDateTime"/>
              </Scheduled_Dttm>
            </xsl:if>
            <xsl:if test="req:ActualCheckInDateTime">
              <Actual_CheckIn_Dttm>
                <xsl:value-of select="req:ActualCheckInDateTime"/>
              </Actual_CheckIn_Dttm>
            </xsl:if>
            <xsl:if test="req:CheckOutDateTime">
              <Check_Out_Dttm>
                <xsl:value-of select="req:CheckOutDateTime"/>
              </Check_Out_Dttm>
            </xsl:if>
            <xsl:if test="req:LoadUnloadStartDateTime">
              <Load_Unload_Start_Dttm>
                <xsl:value-of select="req:LoadUnloadStartDateTime"/>
              </Load_Unload_Start_Dttm>
            </xsl:if>
            <xsl:if test="req:LoadUnloadEndDateTime">
              <Load_Unload_End_Dttm>
                <xsl:value-of select="req:LoadUnloadEndDateTime"/>
              </Load_Unload_End_Dttm>
            </xsl:if>
            <xsl:if test="req:AppointmentPriority">
              <xsl:choose>
                <xsl:when test='req:AppointmentPriority = "MostCritical"'>
                  <Appointment_priority>
                    <xsl:value-of select='"5"'/>
                  </Appointment_priority>
                </xsl:when>
                <xsl:when test='req:AppointmentPriority = "Critical"'>
                  <Appointment_priority>
                    <xsl:value-of select='"4"'/>
                  </Appointment_priority>
                </xsl:when>
                <xsl:when test='req:AppointmentPriority = "High"'>
                  <Appointment_priority>
                    <xsl:value-of select='"3"'/>
                  </Appointment_priority>
                </xsl:when>
                <xsl:when test='req:AppointmentPriority = "Normal"'>
                  <Appointment_priority>
                    <xsl:value-of select='"2"'/>
                  </Appointment_priority>
                </xsl:when>
                <xsl:when test='req:AppointmentPriority = "Low"'>
                  <Appointment_priority>
                    <xsl:value-of select='"1"'/>
                  </Appointment_priority>
                </xsl:when>
              </xsl:choose>
            </xsl:if>
            <xsl:if test="req:DriverDurationInMin">
              <Driver_Duration_In_Min>
                <xsl:value-of select="req:DriverDurationInMin"/>
              </Driver_Duration_In_Min>
            </xsl:if>
            <xsl:if test="req:ControlNumber">
              <Control_number>
                <xsl:value-of select="req:ControlNumber"/>
              </Control_number>
            </xsl:if>
            <xsl:if test="req:RequestorName">
              <Requestor_name>
                <xsl:value-of select="req:RequestorName"/>
              </Requestor_name>
            </xsl:if>
            <xsl:if test="req:RequestorType">
              <Requestor_type>
                <xsl:value-of select="req:RequestorType"/>
              </Requestor_type>
            </xsl:if>
            <xsl:if test="req:ReservedAppointmentId">
              <Reserved_appt_id>
                <xsl:value-of select="req:ReservedAppointmentId"/>
              </Reserved_appt_id>
            </xsl:if>
            <xsl:if test="req:TpCompanyId">
              <Tp_Company_Id>
                <xsl:value-of select="req:TpCompanyId"/>
              </Tp_Company_Id>
            </xsl:if>
            <xsl:if test="req:AppointmentReasonId">
              <Appt_Reason_Id>
                <xsl:value-of select="req:AppointmentReasonId"/>
              </Appt_Reason_Id>
            </xsl:if>
            <xsl:if test="req:AppointmentReasonCode">
              <Appt_Reason_Code>
                <xsl:value-of select="req:AppointmentReasonCode"/>
              </Appt_Reason_Code>
            </xsl:if>
            <xsl:if test="req:TrailerDurationInMinutes">
              <Trailer_Duration_In_Min>
                <xsl:value-of select="req:TrailerDurationInMinutes"/>
              </Trailer_Duration_In_Min>
            </xsl:if>
            <xsl:if test="req:DriverId">
              <Driver_ID>
                <xsl:value-of select="req:DriverId"/>
              </Driver_ID>
            </xsl:if>
            <xsl:if test="req:CancelReasonCode">
              <Cancel_Reason_code>
                <xsl:value-of select="req:CancelReasonCode"/>
              </Cancel_Reason_code>
            </xsl:if>
            <xsl:if test="req:CommunicationMode">
              <Communication_Mode>
                <xsl:value-of select="req:CommunicationMode"/>
              </Communication_Mode>
            </xsl:if>
            <xsl:if test="req:AppointmentComments">
              <Appointment_Comments>
                <xsl:value-of select="req:AppointmentComments"/>
              </Appointment_Comments>
            </xsl:if>
            <xsl:if test="req:BusinessPartner">
              <Business_partner>
                <xsl:value-of select="req:BusinessPartner"/>
              </Business_partner>
            </xsl:if>
            <xsl:if test="req:CancelIndicator">
              <Cancel_Indicator>
                <xsl:value-of select="req:CancelIndicator"/>
              </Cancel_Indicator>
            </xsl:if>
            <xsl:if test="req:LoadPosition">
              <Load_position>
                <xsl:value-of select="req:LoadPosition"/>
              </Load_position>
            </xsl:if>
            <xsl:if test="req:BusinessUnit">
              <Business_Unit>
                <xsl:value-of select="req:BusinessUnit"/>
              </Business_Unit>
            </xsl:if>
            <Requested_Time>
              <xsl:value-of select="req:RequestedTime"/>
            </Requested_Time>
            <xsl:if test="req:TemplateId">
              <template_Id>
                <xsl:value-of select="req:TemplateId"/>
              </template_Id>
            </xsl:if>
            <xsl:if test="req:CancelledAppointmentId">
              <Cancelled_Tc_Appt_Id>
                <xsl:value-of select="req:CancelledAppointmentId"/>
              </Cancelled_Tc_Appt_Id>
            </xsl:if>
            <xsl:if test="req:AppointmentSource">
              <Appointment_Source>
                <xsl:value-of select="req:AppointmentSource"/>
              </Appointment_Source>
            </xsl:if>
            <xsl:if test="req:LoadConfiguration">
              <Load_Configuration>
                <xsl:value-of select="req:LoadConfiguration"/>
              </Load_Configuration>
            </xsl:if>
            <xsl:if test="req:EquipmentId">
              <Equipment_ID>
                <xsl:value-of select="req:EquipmentId"/>
              </Equipment_ID>
            </xsl:if>
            <xsl:if test="req:EquipmentCode">
              <Equipment_Code>
                <xsl:value-of select="req:EquipmentCode"/>
              </Equipment_Code>
            </xsl:if>
            <xsl:if test="req:TractorId">
              <Tractor_ID>
                <xsl:value-of select="req:TractorId"/>
              </Tractor_ID>
            </xsl:if>
            <xsl:if test="req:TractorType">
              <Tractor_Type>
                <xsl:value-of select="req:TractorType"/>
              </Tractor_Type>
            </xsl:if>
            <xsl:if test="req:Equipment">
              <Equipment>
                <xsl:value-of select="req:Equipment"/>
              </Equipment>
            </xsl:if>
            <xsl:if test="req:DockId">
              <Dock_Id>
                <xsl:value-of select="req:DockId"/>
              </Dock_Id>
            </xsl:if>
            <xsl:if test="req:DoorId">
              <Door_Id>
                <xsl:value-of select="req:DoorId"/>
              </Door_Id>
            </xsl:if>
            <ApptObject>
              <xsl:choose>
                <xsl:when test='req:ApptObject/req:ObjectType = "ASN"'>
                  <Object_Type>
                    <xsl:value-of select='"10"'/>
                  </Object_Type>
                </xsl:when>
                <xsl:when test='req:ApptObject/req:ObjectType = "Shipment"'>
                  <Object_Type>
                    <xsl:value-of select='"30"'/>
                  </Object_Type>
                </xsl:when>
                <xsl:when test='req:ApptObject/req:ObjectType = "PO"'>
                  <Object_Type>
                    <xsl:value-of select='"40"'/>
                  </Object_Type>
                </xsl:when>
              </xsl:choose>
              <xsl:if test="req:ApptObject/req:ObjectId">
                <Object_ID>
                  <xsl:value-of select="req:ApptObject/req:ObjectId"/>
                </Object_ID>
              </xsl:if>
              <xsl:if test="req:ApptObject/req:StopSequence">
                <Stop_Seq>
                  <xsl:value-of select="req:ApptObject/req:StopSequence"/>
                </Stop_Seq>
              </xsl:if>
              <Purchase_Order>
                <xsl:if test="req:ApptObject/req:PurchaseOrder/req:BookedSize">
                  <Booked_Size>
                    <xsl:value-of select="req:ApptObject/req:PurchaseOrder/req:BookedSize"/>
                  </Booked_Size>
                </xsl:if>
                <xsl:if test="req:ApptObject/req:PurchaseOrder/req:SizeUOM">
                  <Size_UOM>
                    <xsl:value-of select="req:ApptObject/req:PurchaseOrder/req:SizeUOM"/>
                  </Size_UOM>
                </xsl:if>
                <xsl:if test="req:ApptObject/req:PurchaseOrder/req:PurchaseOrderId">
                  <TC_Order_Id>
                    <xsl:value-of select="req:ApptObject/req:PurchaseOrder/req:PurchaseOrderId"/>
                  </TC_Order_Id>
                </xsl:if>
              </Purchase_Order>
            </ApptObject>
            <Appointment_Slots>
              <xsl:if test="req:AppointmentSlots/req:SlotId">
                <Slot_Id>
                  <xsl:value-of select="req:AppointmentSlots/req:SlotId"/>
                </Slot_Id>
              </xsl:if>
              <xsl:if test="req:AppointmentSlots/req:SlotStartDateTime">
                <Slot_Start_Dttm>
                  <xsl:value-of select="req:AppointmentSlots/req:SlotStartDateTime"/>
                </Slot_Start_Dttm>
              </xsl:if>
              <xsl:if test="req:AppointmentSlots/req:SlotDuration">
                <Slot_Duration>
                  <xsl:value-of select="req:AppointmentSlots/req:SlotDuration"/>
                </Slot_Duration>
              </xsl:if>
              <xsl:if test="req:AppointmentSlots/req:CapacityUsed">
                <Capacity_Used>
                  <xsl:value-of select="req:AppointmentSlots/req:CapacityUsed"/>
                </Capacity_Used>
              </xsl:if>
            </Appointment_Slots>
            <xsl:if test="req:CustomAttribute">
              <Custom_Attribute>
                <xsl:if test="req:CustomAttribute/req:AttributeName">
                  <Attribute_Name>
                    <xsl:value-of select="req:CustomAttribute/req:AttributeName"/>
                  </Attribute_Name>
                </xsl:if>
                <xsl:if test="req:CustomAttribute/req:AttributeValue">
                  <Attribute_Value>
                    <xsl:value-of select="req:CustomAttribute/req:AttributeValue"/>
                  </Attribute_Value>
                </xsl:if>
              </Custom_Attribute>
            </xsl:if>
          </Appointment>
        </xsl:for-each>
      </Message>
    </tXML>
  </xsl:template>
</xsl:stylesheet>
